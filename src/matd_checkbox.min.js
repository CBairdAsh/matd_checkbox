/*
matd expanded list

Javascript / jQuery plugin to create a Material Design expanded list

Created: 5/17/2019
Author: Chris Ash
License: MIT License

*/
!function(t){t.matd_checkbox={id:"",placeholder:"",event:!1,orig_input:[],existing_id:"",checked:!1,partial:!1,clicked_color:"",outline_color:"",templateString:'<span class="matd_cb_container"><span class="flex-base matd_cb_inner" data-checked="${checked}" data-indeterminate="${partial}"><svg class="matd_cb_svg" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path class="matd_cb_off" style="${style_out_color}" d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path><path class="matd_cb_on" style="${style_color}" d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path><path class="matd_cb_part" style="${style_color}" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"></path></svg><input id="mtdcb_${id}" ${placeholder} class="matd_cb_input" type="checkbox" value="chk_val"></span></span>',style_color:"",style_out_color:""};var e={id:"",placeholder:"",event:!1,orig_input:[],existing_id:"",checked:!1,partial:!1,clicked_color:"",outline_color:"",templateString:'<span class="matd_cb_container"><span class="flex-base matd_cb_inner" data-checked="${checked}" data-indeterminate="${partial}"><svg class="matd_cb_svg" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path class="matd_cb_off" style="${style_out_color}" d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path><path class="matd_cb_on" style="${style_color}" d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path><path class="matd_cb_part" style="${style_color}" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"></path></svg><input id="mtdcb_${id}" ${placeholder} class="matd_cb_input" type="checkbox" value="chk_val"></span></span>',style_color:"",style_out_color:""};t.extend(t.fn,{matd_checkbox:function(){var o=arguments[0],i=[].slice.call(arguments).slice(1);if(c[o])return c[o].apply(this,i);var r=a.checkAPI(t.matd_checkbox,e,c);if(t.matd_checkbox=r.local,c=r.API,o&&(r=a.checkAPI(t.matd_checkbox,o,c),t.matd_checkbox=r.local,c=r.API),""==t.matd_checkbox.id)if(""!=t(this).attr("id"))t.matd_checkbox.id=t(this).attr("id");else{a.counter++;var n="matd"+(new Date).getTime()+"cb"+a.counter;t.matd_checkbox.id=n,t(this).attr("id",n)}a.startup.apply(this)}});for(var c={debug:function(){console.log("[debug]",t.matd_checkbox)},go_check:function(e){var c=t(this);c.prop("checked",e);c.parents(".matd_cb_inner").attr("data-checked",e)}},a={counter:1,types:["checkbox"],startup:function(){""!=t.matd_checkbox.templateString?0==t("#"+t.matd_checkbox.id+".matd_cb_input").length?(a.check_target_type(),a.trigger_evt(t.matd_checkbox.id,"init",""),a.place_ctrl(a.make_html()),a.assign_event(),a.trigger_evt(t.matd_checkbox.id,"started","")):console.log("[matd_checkbox] id: mtdcb_"+t.matd_checkbox.id+" is already in place in the DOM. Control not added."):console.log("[matd_checkbox] Control Template may not be blank")},check_target_type:function(){var e=t("#"+t.matd_checkbox.id);if("input"==e[0].nodeName.toLowerCase()){t.matd_checkbox.preserve_input=!0,t.matd_checkbox.existing_id=""+t.matd_checkbox.id;for(var c=0;c<e[0].attributes.length;c++){var o=e[0].attributes[c];t.matd_checkbox.orig_input.push(o)}var i=e.parent();if(""!=i.attr("id")&&i.attr("id"))t.matd_checkbox.id=i.attr("id");else{a.counter++;var r="r"+(new Date).getTime()+"r"+a.counter;i.attr("id",r),t.matd_checkbox.id=r}}},add_hash_hex:function(t){return null!=(/^[a-f\d]{2}[a-f\d]{2}[a-f\d]{2}$/i.exec(t)||/^[a-f\d]{3}$/i.exec(t))&&(t="#"+t),t},prep_color:function(e,c){-1==t.matd_checkbox[e].toLowerCase().indexOf("rgb")&&(t.matd_checkbox[e]=a.add_hash_hex(t.matd_checkbox[e])),""!=t.matd_checkbox[e]&&(t.matd_checkbox[c]="fill:"+t.matd_checkbox[e]+";")},make_html:function(){return a.prep_color("clicked_color","style_color"),a.prep_color("outline_color","style_out_color"),a.prp_ct(t.matd_checkbox.templateString,t.matd_checkbox)},place_ctrl:function(e){if(0==t("#mtdcb_"+t.matd_checkbox.id).length)if(""!=t.matd_checkbox.existing_id){t("#"+t.matd_checkbox.id).prepend(e);var c=t("#mtdcb_"+t.matd_checkbox.id).attr("class");t("#"+t.matd_checkbox.existing_id).clone(!0,!0).attr("id",t.matd_checkbox.existing_id+"new").addClass(c).attr("tabIndex","0").insertBefore("#mtdcb_"+t.matd_checkbox.id),t("#"+t.matd_checkbox.existing_id).remove(),t("#mtdcb_"+t.matd_checkbox.id).remove(),t("#"+t.matd_checkbox.existing_id+"new").attr("id",t.matd_checkbox.existing_id)}else t("#"+t.matd_checkbox.id).html(e);else console.log("[matd_checkbox] id: mtdcb_"+t.matd_checkbox.id+" is already in place in the DOM. Control not added.")},assign_event:function(){var e=t("#mtdcb_"+t.matd_checkbox.id);""!=t.matd_checkbox.existing_id&&(e=t("#"+t.matd_checkbox.existing_id)),t(e).on("click",function(e){var c=t(this),a=c.prop("checked");c.parents(".matd_cb_inner").attr("data-checked",a)})},trigger_evt:function(e,c,a){t("#"+e).trigger(c,a)},checkAPI:function(t,e,c){var o={};for(var i in t)if(o[i]=t[i],e.hasOwnProperty(i))if("object"==typeof o[i])if(Array.isArray(o[i])&&Array.isArray(e[i])){o[i]=[];for(var r=e[i],n=o[i],d=0;d<e[i].length;d++){var l=r[d];n.push(l)}}else"string"==typeof e[i]&&Array.isArray(o[i])?o[i].push(e[i]):o[i]=e[i];else o[i]=e[i];return a.each(c,function(t,a){null!=e[t]&&(c[t]=e[t])}),{local:o,API:c}},prp_ct:function(t,e,c){var a=/\${([^\}]+)}/i,o=0;c&&(e=c);try{do{var i=a.exec(t);if(null!=i&&i.length>1){var r=i[1];t=new Function("_tmpl","_newval","return _tmpl.replace(/\\${"+r+"}/ig, _newval);")(t,e[r]),o++}else o=10}while(o<10)}catch(t){console.log("[prp_ct] error processing template = "+t)}return t},each:function(t,e){var c,o=0;if(a.isArrayLike(t))for(c=t.length;o<c&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?a.class2type[a.class2type.toString.call(t)]||"object":typeof t},class2type:{},isWindow:function(t){return null!=t&&t===t.window},isArrayLike:function(t){var e=!!t&&"length"in t&&t.length,c=a.type(t);return"function"!==c&&!a.isWindow(t)&&("array"===c||0===e||"number"==typeof e&&e>0&&e-1 in t)}},o="Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),i=o.length,r=0;r<i;r++){var n=o[r];a.class2type["[object "+n+"]"]=n.toLowerCase()}}(jQuery);